%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% BMC template package
% Goal: provide formatting for theses and project reports
% Author: Carlos A. Cartagena-Sanchez 
% <https://github.com/cacsphysics>
%
% This work may be distributed and/or modified under the
% conditions of the LaTeX Project Public License, either version 1.3
% of this license or (at your option) any later version.
% The latest version of this license is in
%   http://www.latex-project.org/lppl.txt
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{bmctemplate}[2022/06/18 Bryn Mawr College dissertation template package]

\AtBeginDocument{
    \hypersetup{
    colorlinks=true,
    linkcolor=black,
    filecolor=black,      
    urlcolor=black,
    citecolor=black,
    linktoc=all
    }
    %%%%%% Left-justified
    \setlength{\RaggedRightParindent}{0.5in} % Adding indentation
}
\RequirePackage{hyperref}
\RequirePackage{url}
\RequirePackage[utf8]{inputenc}
\RequirePackage{import}
\RequirePackage{titlesec}
\RequirePackage{setspace}
\RequirePackage{titletoc}
\RequirePackage{xparse}
\RequirePackage[document]{ragged2e}
\RequirePackage[a4paper, left=1.5in,right=1in,top=1in,bottom=1in]{geometry}

\RequirePackage{xcolor}
\RequirePackage{indentfirst}  % indents the first paragraph

%%%%%% Package Options
\DeclareOption{double}{\linespread{2.0}}

\newif\if@loadbibconfig %\@loadbibconfigfalse  % creating the boolean variable for the if-statement
\DeclareOption{bibconfig}{\@loadbibconfigtrue}
\DeclareOption*{\PackageWarning{bmctemplate}{Unknown ‘\CurrentOption’}}
\ProcessOptions\relax
%%%%%% Package Options
%%%%%% Conditional Statements %%%%%%%%
\if@loadbibconfig
    \RequirePackage[
        backend=biber,
        style=phys,
        biblabel=brackets,
        articletitle=true
    ]{biblatex}
    \defbibenvironment{bibliography}
        {\list{\printtext[labelnumberwidth]{%
            \printfield{labelprefix}%
            \printfield{labelnumber}}}
        {\setlength{\leftmargin}{\bibhang}%
            \setlength{\itemindent}{-\leftmargin}%
            \setlength{\itemsep}{2\baselineskip plus .05\baselineskip minus .05\baselineskip}%
            \setlength{\parsep}{\bibparsep}}
        }
        {\endlist}
    {\item}

    \addbibresource{template_file.bib}  % defining the thesis bib
\fi
%%%%%% Conditional Statements






%%%%%% Headings
\newcommand\noentrynumber[1]{}
\titleformat{\chapter}[block]
{\centering\normalfont\normalsize\bfseries}{\chaptertitlename\  \thechapter:}{1em}{}

\titleformat{\section}
  {\normalfont\normalsize\bfseries}{\thesection.}{1em}{}

\titleformat{\subsection}
  {\normalfont\normalsize\bfseries}{\thesubsection.}{1em}{}

\titleformat{\subsubsection}
  {\normalfont\normalsize\bfseries}{\thesubsubsection.}{1em}{}
%%%%%% Margins %%%%%%

%%%%%% Changing the name of the contents page
\renewcommand*\contentsname{Table of Contents}
\titlecontents{chapter}
[0.0em]
{\addvspace{0.25pc}%
}
{Chapter \thecontentslabel:~%
}
{}
{\titlerule*[0.25pc]{.}\thecontentspage} 
[\addvspace{0.25pc}]

\titlecontents{section}
[2.0em]
{\addvspace{0.25pc}%
}
{\thecontentslabel~%
}
{}
{\titlerule*[0.25pc]{.}\thecontentspage} 
[\addvspace{0.25pc}]

%\titlecontents{chapter}[6em]{\bigskip\bfseries}%\vspace{1cm}%
%{\contentslabel[\MakeUppercase{\chaptername}~\thecontentslabel]{7em}\MakeUppercase}%
%{\MakeUppercase}%numberless chapters%
%{\hfill\contentspage}[\medskip]%
%%%%%% Bibliography spacing %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%% Command for Appendix List %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand\listappendixname{List of Appendices}
\newcommand\appcaption[1]{%
  \addcontentsline{app}{chapter}{#1}}
\makeatletter
\newcommand\listofappendices{%
  \chapter*{\listappendixname}\@starttoc{app}}
\makeatother
%%%%%% Command for Appendix List 
%%%%%% Environments %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
